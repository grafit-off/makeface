{"version":3,"sources":["main.js"],"names":["popupLinks","document","querySelectorAll","lockPadding","body","querySelector","unlock","timeout","length","index","popupLink","addEventListener","e","popupName","getAttribute","replace","popupOpen","getElementById","preventDefault","popupCloseIcon","el","popupClose","closest","curentPopup","popupActive","bodyLock","classList","add","target","doUnlock","remove","bodyUnlock","lockPaddingValue","window","innerWidth","offsetWidth","style","paddingRight","setTimeout","which","Element","prototype","css","node","this","matches","parentElement","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","wrapper","headerBurger","headerMenu","md2","matchMedia","burgerToggle","toggle","isiPhone","navigator","userAgent","match","isiPad","isiPod","linkNav","V","i","w","pageYOffset","hash","href","t","getBoundingClientRect","top","start","requestAnimationFrame","step","time","progress","r","Math","max","min","scrollTo","location","header","prevScrollpos","navOpen","navScroll","onscroll","currentScrollPos","forEach","item","parentNode","scrollDistance","scrollY","offsetTop","clientHeight","contains","AOS","init","disable"],"mappings":"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","file":"main.js","sourcesContent":["const popupLinks = document.querySelectorAll('.popup-link');\r\nconst lockPadding = document.querySelectorAll('.lock-padding');\r\nconst body = document.querySelector('body')\r\nlet unlock = true;\r\n\r\nconst timeout = 800;\r\n\r\nif (popupLinks.length > 0) {\r\n\tfor (let index = 0; index < popupLinks.length; index++) {\r\n\t\tconst popupLink = popupLinks[index];\r\n\t\tpopupLink.addEventListener(\"click\", function (e) {\r\n\t\t\tconst popupName = popupLink.getAttribute('href').replace('#', '');\r\n\t\t\tconst curentPopup = document.getElementById(popupName);\r\n\t\t\tpopupOpen(curentPopup);\r\n\t\t\te.preventDefault();\r\n\t\t});\r\n\t}\r\n}\r\n\r\nconst popupCloseIcon = document.querySelectorAll('.close-popup');\r\nif (popupCloseIcon.length > 0) {\r\n\tfor (let index = 0; index < popupCloseIcon.length; index++) {\r\n\t\tconst el = popupCloseIcon[index];\r\n\t\tel.addEventListener('click', function (e) {\r\n\t\t\tpopupClose(el.closest('.popup'));\r\n\t\t\te.preventDefault();\r\n\t\t});\r\n\t}\r\n}\r\n\r\nfunction popupOpen(curentPopup) {\r\n\tif (curentPopup && unlock) {\r\n\t\tconst popupActive = document.querySelector('.popup.open');\r\n\t\tif (popupActive) {\r\n\t\t\tpopupClose(popupActive, false);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tbodyLock();\r\n\t\t}\r\n\t\tcurentPopup.classList.add('open');\r\n\t\tcurentPopup.addEventListener(\"click\", function (e) {\r\n\t\t\tif (!e.target.closest('.popup__content')) {\r\n\t\t\t\tpopupClose(e.target.closest('.popup'));\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\nfunction popupClose(popupActive, doUnlock = true) {\r\n\tif (unlock) {\r\n\t\tpopupActive.classList.remove('open');\r\n\t\tif (doUnlock) {\r\n\t\t\tbodyUnlock();\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction bodyLock() {\r\n\tconst lockPaddingValue = window.innerWidth - document.querySelector('.wrapper').offsetWidth + 'px';\r\n\r\n\tif (lockPadding.length > 0) {\r\n\t\tfor (let index = 0; index < lockPadding.length; index++) {\r\n\t\t\tconst el = lockPadding[index];\r\n\t\t\tel.style.paddingRight = lockPaddingValue;\r\n\t\t}\r\n\t}\r\n\r\n\tbody.style.paddingRight = lockPaddingValue;\r\n\tbody.classList.add('lock');\r\n\r\n\tunlock = false;\r\n\tsetTimeout(function () {\r\n\t\tunlock = true;\r\n\t}, timeout);\r\n}\r\nfunction bodyUnlock() {\r\n\tsetTimeout(function () {\r\n\t\tif (lockPadding.length > 0) {\r\n\t\t\tfor (let index = 0; index < lockPadding.length; index++) {\r\n\t\t\t\tconst el = lockPadding[index];\r\n\t\t\t\tel.style.paddingRight = '0px';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tbody.style.paddingRight = '0px';\r\n\t\tbody.classList.remove('lock');\r\n\t}, timeout);\r\n}\r\n\r\ndocument.addEventListener('keydown', function (e) {\r\n\tif (e.which === 27) {\r\n\t\tconst popupActive = document.querySelector('.popup.open');\r\n\t\tpopupClose(popupActive);\r\n\t}\r\n});\r\n(function () {\r\n\tif (!Element.prototype.closest) {\r\n\t\tElement.prototype.closest = function (css) {\r\n\t\t\tvar node = this;\r\n\t\t\twhile (node) {\r\n\t\t\t\tif (node.matches(css)) return node;\r\n\t\t\t\telse node = node.parentElement;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t};\r\n\t}\r\n})();\r\n(function () {\r\n\tif (!Element.prototype.matches) {\r\n\t\tElement.prototype.matches = Element.prototype.matchesSelector ||\r\n\t\t\tElement.prototype.webkitMatchesSelector ||\r\n\t\t\tElement.prototype.mozMatchesSelector ||\r\n\t\t\tElement.prototype.msMatchesSelector;\r\n\t}\r\n})();;\n\n// Burger Menu\nconst wrapper = document.querySelector('.wrapper')\nconst headerBurger = document.querySelector('.header__burger');\nconst headerMenu = document.querySelector('.header__menu');\nconst md2 = window.matchMedia(\"(max-width: 767px)\");\n\nfunction burgerToggle() {\n\theaderBurger.classList.toggle('active');\n\theaderMenu.classList.toggle('active');\n\tbody.classList.toggle('lock');\n}\nif (md2.matches) {\n\theaderBurger.addEventListener('click', () => {\n\t\tburgerToggle()\n\t})\n}\n\n// -- //\n\n// Scroll to link\nconst isiPhone = (navigator.userAgent.match(/iPhone/i) != null);\nconst isiPad = (navigator.userAgent.match(/iPad/i) != null);\nconst isiPod = (navigator.userAgent.match(/iPod/i) != null);\n\nif (isiPhone || isiPad || isiPod) {\n\tlet linkNav = document.querySelectorAll('[href^=\"#\"]'), //выбираем все ссылки к якорю на странице\n\t\tV = 0.2;  // скорость, может иметь дробное значение через точку (чем меньше значение - тем больше скорость)\n\tfor (let i = 0; i < linkNav.length; i++) {\n\t\tlinkNav[i].addEventListener('click', function (e) { //по клику на ссылку\n\t\t\te.preventDefault(); //отменяем стандартное поведение\n\t\t\tlet w = window.pageYOffset,  // производим прокрутка прокрутка\n\t\t\t\thash = this.href.replace(/[^#]*(.*)/, '$1');  // к id элемента, к которому нужно перейти\n\t\t\tt = document.querySelector(hash).getBoundingClientRect().top,  // отступ от окна браузера до id\n\t\t\t\tstart = null;\n\t\t\trequestAnimationFrame(step);  // подробнее про функцию анимации [developer.mozilla.org]\n\t\t\tfunction step(time) {\n\t\t\t\tif (start === null) start = time;\n\t\t\t\tlet progress = time - start,\n\t\t\t\t\tr = (t < 0 ? Math.max(w - progress / V, w + t) : Math.min(w + progress / V, w + t));\n\t\t\t\twindow.scrollTo(0, r);\n\t\t\t\tif (r != w + t) {\n\t\t\t\t\trequestAnimationFrame(step)\n\t\t\t\t} else {\n\t\t\t\t\tlocation.hash = hash  // URL с хэшем\n\t\t\t\t}\n\t\t\t}\n\t\t}, false);\n\t}\n}\n// -- //\n\n\n// Active header on scroll\nconst header = document.querySelector(\".header\");\nlet prevScrollpos = window.pageYOffset;\n\nfunction navOpen() {\n\tif (prevScrollpos != 0) {\n\t\theader.classList.add('header--active');\n\t\theaderMenu.classList.add('menu--onscroll');\n\t} else {\n\t\theader.classList.remove('header--active');\n\t\theaderMenu.classList.remove('menu--onscroll');\n\t}\n}\nfunction navScroll() {\n\twindow.onscroll = function () {\n\t\tlet currentScrollPos = window.pageYOffset;\n\t\tif (prevScrollpos < currentScrollPos) {\n\t\t\theader.classList.add('header--active');\n\t\t\theaderMenu.classList.add('menu--onscroll');\n\t\t} else if (prevScrollpos = currentScrollPos) {\n\t\t\theader.classList.add('header--active');\n\t\t\theaderMenu.classList.add('menu--onscroll');\n\t\t} else {\n\t\t\theader.classList.remove('header--active');\n\t\t\theaderMenu.classList.remove('menu--onscroll');\n\t\t}\n\t\tprevScrollpos = currentScrollPos;\n\t}\n}\nnavOpen()\nnavScroll()\n// -- //\n\n// Accordion\ndocument.querySelectorAll('.acordion-triger').forEach((item) =>\n\titem.addEventListener('click', () => {\n\t\titem.parentNode.classList.toggle('acordion--active');\n\t})\n)\n// -- //\n// active class of menu items onscroll\nwindow.addEventListener('scroll', () => {\n\tlet scrollDistance = window.scrollY;\n\n\tif (window.innerWidth > 768) {\n\t\tdocument.querySelectorAll('.section').forEach((el, i) => {\n\t\t\tif (el.offsetTop - document.querySelector('.header').clientHeight <= scrollDistance) {\n\t\t\t\tdocument.querySelectorAll('.header__list a').forEach((el) => {\n\t\t\t\t\tif (el.classList.contains('active')) {\n\t\t\t\t\t\tel.classList.remove('active');\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tdocument.querySelectorAll('.header__list li')[i].querySelector('a').classList.add('active');\n\t\t\t}\n\t\t});\n\t}\n});\n// -- //\nAOS.init({\n\tdisable: 'phone',\n});"]}